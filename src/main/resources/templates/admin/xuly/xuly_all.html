<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
    crossorigin="anonymous"
    />
<div class="col-12 col-md-4">
   

<!--    <form th:action="@{/admin/xuly/find}">
        Filter: <input type="text" name="keyword" id="keyword" size="50" th:value="${keyword}" required />
        &nbsp;
        <input type="submit" value="Search" />
        &nbsp;
        <input type="button" value="Clear" id="btnClear" onclick="clearSearch()" />
    </form>-->
        <a class="btn btn-success" href="/admin/xuly/add">Thêm mới</a>
       
  
</div>
<div class="datatable-container">
    <table
        boder="1"
        id="datatablesSimple"
        class="table table-striped table-bordered"
        >
        <thead>
            <tr>
                <th data-sortable="false">
                    <input id="checkbox-all" type="checkbox" />
                </th>
                <th>MAXL</th>
                <th>MaTV</th>
                <th>Hinh Thuc Xu Ly</th>
                <th>So Tien</th>
                <th>Ngay Xu Ly</th>
                <th>Trang Thai XL</th>
            </tr>
        </thead>

        <tbody>
            <tr th:each="item, state: ${list}">
                <td></td>
                <td th:utext="${item.MaXL}"></td>
                <td th:utext="${item.MaTV}"></td>
                <td th:utext="${item.HinhThucXL}"></td>
                <td th:utext="${item.SoTien}"></td>
                <td th:utext="${item.NgayXL}"></td>
                <td th:utext="${item.TrangThaiXL}"></td>

                <td>
                    <a class="btn btn-warning" th:href="'/admin/xuly/edit/'+ ${item.MaXL}"
                       >Edit</a
                    >

                    <a
                        th:href="'/admin/xuly/delete/'+ ${item.MaXL}"
                        class="btn btn-danger">


                        <!-- code lại phần modal sửa bug       
                        id = "deleteButton"-->


                        Delete</a
                    >
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div
    class="modal modal-blur fade"
    id="delete-confirm-modal"
    tabindex="-1"
    role="dialog"
    aria-hidden="true"
    >
    <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="modal-title">Are you sure?</div>
                <div class="modal-description"></div>
            </div>
            <div class="modal-footer">
                <button
                    type="button"
                    class="btn btn-link link-secondary me-auto"
                    data-bs-dismiss="modal"
                    >
                    Cancel
                </button>

                <a href="" class="btn btn-danger" data-bs-dismiss="modal" id="delRef">
                    Yes, delete this user
                </a>
            </div>
        </div>
    </div>
</div>
<script>
    window.addEventListener("DOMContentLoaded", (event) => {
        const datatablesSimple = document.getElementById("datatablesSimple");
        if (datatablesSimple) {
            new simpleDatatables.DataTable(datatablesSimple, {
                labels: {
                    perPage: "mục mỗi trang", // Label cho dropdown chọn số lượng item trên mỗi trang
                    noRows: "Không có dữ liệu", // Label hiển thị khi không có dữ liệu
                    info: "Hiển thị {start} đến {end} của {rows} mục", // Label hiển thị thông tin pagination
                },
            });
        }
    });
</script>
<script src="/js/simple-datatables.min.js" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
    $(document).ready(function () {
        $('#deleteButton').on("click", function (event) {
            event.preventDefault();
            var href = $(this).attr('href');

            $("#delete-confirm-modal").modal("show");
            $("#delRef").attr("href", href);
        });
    });
</script>
<script type="text/javascript">
    function clearSearch() {
        window.location = "[[@{/}]]";
    }
</script>